[{"path":"https://michielvandijk.github.io/ssid/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 ssid authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":[]},{"path":"https://michielvandijk.github.io/ssid/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michiel Van Dijk. Author, maintainer.","code":""},{"path":"https://michielvandijk.github.io/ssid/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Van Dijk M (2023). ssid: Spatial Simulation Income Dynamics model. https://github.com/michielvandijk/ssid, https://michielvandijk.github.io/ssid/.","code":"@Manual{,   title = {ssid: Spatial Simulation of Income Dynamics model},   author = {Michiel {Van Dijk}},   year = {2023},   note = {https://github.com/michielvandijk/ssid, https://michielvandijk.github.io/ssid/}, }"},{"path":"https://michielvandijk.github.io/ssid/index.html","id":"ssid","dir":"","previous_headings":"","what":"Spatial Simulation of Income Dynamics model","title":"Spatial Simulation of Income Dynamics model","text":"ssid package contains functions run dynamic spatial microsimulation model provides income poverty projections subnational scale. uses spatial microsimulation approach, derive indicators fine spatial resolution (e.g. districts municipalities) combining socio-economic data household survey (referred ‘seed’), aggregated information population characteristics (referred ‘benchmark’) available small geographical areas population census sources. algorithm used reweigh seed match benchmark information derive representative small area statistics, case income poverty indicators. dynamic spatial microsimulation approaches, benchmark projected forward new weights computed future periods obtain trends income distribution different scenarios.","code":""},{"path":"https://michielvandijk.github.io/ssid/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Spatial Simulation of Income Dynamics model","text":"can install development version ssid GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"michielvandijk/ssid\")"},{"path":"https://michielvandijk.github.io/ssid/reference/aggregate2adm.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate raster files to adm level — aggregate2adm","title":"Aggregate raster files to adm level — aggregate2adm","text":"Function aggregate raster files adm level.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/aggregate2adm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate raster files to adm level — aggregate2adm","text":"","code":"aggregate2adm(r, adm)"},{"path":"https://michielvandijk.github.io/ssid/reference/aggregate2adm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate raster files to adm level — aggregate2adm","text":"r Object class SpatRaster Raster adm_file Object class sf location subnational administrative units","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/clip_country.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to clip national maps from global WorldPop sex and age disaggregated population maps — clip_country","title":"Function to clip national maps from global WorldPop sex and age disaggregated population maps — clip_country","text":"Function clip national maps global WorldPop sex age disaggregated population maps","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/clip_country.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to clip national maps from global WorldPop sex and age disaggregated population maps — clip_country","text":"","code":"clip_country(r, adm)"},{"path":"https://michielvandijk.github.io/ssid/reference/clip_country.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to clip national maps from global WorldPop sex and age disaggregated population maps — clip_country","text":"r Object class SpatRaster, Raster path adm object class sf location subnational units","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/create_folders.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates ssid folder structure — create_folders","title":"Creates ssid folder structure — create_folders","text":"create_folders creates folder structure needed store processed data ssid.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/create_folders.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates ssid folder structure — create_folders","text":"","code":"create_folders(param = NULL)"},{"path":"https://michielvandijk.github.io/ssid/reference/create_folders.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates ssid folder structure — create_folders","text":"param Object type ssid_par bundles ssid parameters, including core model folders, alpha-3 country code year administrative unit level model solved type model.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/create_folders.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Creates ssid folder structure — create_folders","text":"create_folders creates two folders model_path, set user: mappings processed_data (including subfolders). copies number cvs files mappings folder, contain several data tables needed run model , needed can adjusted user.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/create_folders.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Creates ssid folder structure — create_folders","text":"","code":"if (FALSE) { create_folders(param) }"},{"path":"https://michielvandijk.github.io/ssid/reference/create_model_template.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates ssid model template — create_model_template","title":"Creates ssid model template — create_model_template","text":"create_model_template creates folder structure template R scripts implement various steps run ssid.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/create_model_template.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates ssid model template — create_model_template","text":"","code":"create_model_template(template_path = NULL)"},{"path":"https://michielvandijk.github.io/ssid/reference/create_model_template.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates ssid model template — create_model_template","text":"template_path folder template scripts copied.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/create_model_template.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Creates ssid model template — create_model_template","text":"create_model template() creates several folders template_path, set user. folders contain template R scripts implement ssid. run template scripts, copied RStudio project. recommend create project first use create_model_template() add scripts RStudio project. Note create_model_template() copies script files exist yet. way, user accidentally replace already modified scripts.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/create_model_template.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Creates ssid model template — create_model_template","text":"","code":"if (FALSE) { create_model_template(\"c:/temp\") }"},{"path":"https://michielvandijk.github.io/ssid/reference/create_weights_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Title\nCreate figure with weight distribution — create_weights_plot","title":"Title\nCreate figure with weight distribution — create_weights_plot","text":"Title Create figure weight distribution","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/create_weights_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title\nCreate figure with weight distribution — create_weights_plot","text":"","code":"create_weights_plot(region, sim_file)"},{"path":"https://michielvandijk.github.io/ssid/reference/create_weights_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title\nCreate figure with weight distribution — create_weights_plot","text":"region Region weights extracted sim_file Simulation file","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/fix_outlier_iqr.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to fix outliers using interquartile range — fix_outlier_iqr","title":"Function to fix outliers using interquartile range — fix_outlier_iqr","text":"function uses interquartile range determine outliers replace median value.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/fix_outlier_iqr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to fix outliers using interquartile range — fix_outlier_iqr","text":"","code":"fix_outlier_iqr(x, r = 1.5)"},{"path":"https://michielvandijk.github.io/ssid/reference/fix_outlier_iqr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to fix outliers using interquartile range — fix_outlier_iqr","text":"x Vector data containing outliers r Range. Default 1.5","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/fix_outlier_iqr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to fix outliers using interquartile range — fix_outlier_iqr","text":"","code":"fix_outlier_iqr(rnorm(40, mean = 0, sd = 1)) #>  [1]  1.307529126 -1.376848988 -0.960759604 -1.345141849  0.035856319 #>  [6] -0.641872165 -0.210638524  0.300347084 -0.638731828 -0.093800456 #> [11] -0.000421121  2.467489305  1.219784746  0.757453319  0.396771130 #> [16] -1.651038716  0.729895090 -1.011000154  1.209028340 -0.376169371 #> [21] -0.308286470  0.594957565 -0.805453855  0.815290968 -2.071750049 #> [26] -0.363111976 -1.184496020  1.151861071 -1.350801409  1.122855665 #> [31]  0.313593144  0.943831141  1.409238998 -1.267549008  0.057021815 #> [36]  0.601579460  1.243890308 -1.115482052  1.153736549 -1.564631648"},{"path":"https://michielvandijk.github.io/ssid/reference/fix_outlier_quantile.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to fix outliers using quantile approach — fix_outlier_quantile","title":"Function to fix outliers using quantile approach — fix_outlier_quantile","text":"function uses quantiles determine outliers replace median value.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/fix_outlier_quantile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to fix outliers using quantile approach — fix_outlier_quantile","text":"","code":"fix_outlier_quantile(x, q_lower = 0.025, q_upper = 0.975)"},{"path":"https://michielvandijk.github.io/ssid/reference/fix_outlier_quantile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to fix outliers using quantile approach — fix_outlier_quantile","text":"x Vector data containing outliers q_lower Lower quantile range. Default 0.025. q_upper Upper quantile range. Default 0.975.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/fix_outlier_quantile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to fix outliers using quantile approach — fix_outlier_quantile","text":"","code":"fix_outlier_quantile(rnorm(40, mean = 0, sd = 1)) #>  [1] -1.03406544 -0.16972019  0.28491092  1.23192495  1.26433042 -0.40182892 #>  [7] -0.21804476 -1.40812688 -0.45624938 -0.03909214 -1.41524963 -0.71782476 #> [13]  0.51151789 -0.95582080 -0.15354278 -0.74441025 -0.44411993 -1.68013788 #> [19] -0.58271067 -1.00111158 -0.37262145 -0.12943444  0.31489786  0.79009073 #> [25]  0.34525086 -0.83263021 -0.16972019 -0.18589760  0.57537942  0.22051074 #> [31] -0.76772563  0.15397404  0.91970430 -0.04082892 -1.74320960  0.49314129 #> [37]  1.12882949 -0.28294169 -0.14919658  0.20640828"},{"path":"https://michielvandijk.github.io/ssid/reference/ipf_seed.html","id":null,"dir":"Reference","previous_headings":"","what":"ipf_seed — ipf_seed","title":"ipf_seed — ipf_seed","text":"ipf_seed","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/ipf_seed.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ipf_seed — ipf_seed","text":"","code":"ipf_seed(   reg_tz,   hh_s,   per_s,   bm,   p,   reg_sample = FALSE,   verbose = FALSE,   max_iter = 300,   max_ratio = 5,   min_ratio = 0.2,   relative_gap = 0.01,   absolute_diff = 10 )"},{"path":"https://michielvandijk.github.io/ssid/reference/ipf_seed.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ipf_seed — ipf_seed","text":"absolute_diff","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/ipu_subnat_proj.html","id":null,"dir":"Reference","previous_headings":"","what":"ipu_subnat_proj — ipu_subnat_proj","title":"ipu_subnat_proj — ipu_subnat_proj","text":"Function rake subnational population projections match national age-sex subnational pop projections.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/ipu_subnat_proj.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ipu_subnat_proj — ipu_subnat_proj","text":"","code":"ipu_subnat_proj(y, scen, verbose = TRUE)"},{"path":"https://michielvandijk.github.io/ssid/reference/ipu_subnat_proj.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ipu_subnat_proj — ipu_subnat_proj","text":"y Year scen Scenario verbose Print iteration details worst marginal stats upon completion generated ipfr::ipu_matrix? Default TRUE. param ssid_par","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/load_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Load model input data for further processing — load_data","title":"Load model input data for further processing — load_data","text":"load_data() can used quickly load input data (e.g. subnational statistics, maps mappings). can useful quickly inspect statistics visualize map. Data can loaded data created running pre-processing steps. See details allowed input.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/load_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load model input data for further processing — load_data","text":"","code":"load_data(data, param, local = FALSE, mess = TRUE)"},{"path":"https://michielvandijk.github.io/ssid/reference/load_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load model input data for further processing — load_data","text":"data character vector refers data loaded. See details allowed input. local logical; data loaded global (TRUE) local environment (`FALSE). Loading data local environment relevant function used internal package functions. mess logical; message printed screen indicates dataset loaded?","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/load_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Load model input data for further processing — load_data","text":"following inputs allowed: adm_list: adm_map: adm_map_r: cl_mean: cl_max: cl_rank: ia_max: ia_rank: gaez2crop: gaez_replace: grid: gia: gmia: pop: acc: urb: simu: simu_r: ha: fs: ci: price: dm2fm: crop2globiom: faostat2crop: results:","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/load_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load model input data for further processing — load_data","text":"","code":"load_data(c(\"ha\", \"adm_map\"), param) #> Error in stopifnot(inherits(param, \"mapspamc_par\")): object 'param' not found"},{"path":"https://michielvandijk.github.io/ssid/reference/prepare_benchmark.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — prepare_benchmark","title":"Title — prepare_benchmark","text":"Title","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/prepare_benchmark.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — prepare_benchmark","text":"","code":"prepare_benchmark(hh, u_r, a_s, oc)"},{"path":"https://michielvandijk.github.io/ssid/reference/prepare_benchmark.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — prepare_benchmark","text":"oc occupation data","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/reweigh.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — reweigh","title":"Title — reweigh","text":"Title","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/reweigh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — reweigh","text":"","code":"reweigh(   ssp_y,   reg_tz,   hh_s,   per_s,   bm,   reg_sample = FALSE,   verbose = FALSE,   max_iter = 300,   max_ratio = 5,   min_ratio = 0.2,   relative_gap = 0.01,   absolute_diff = 10 )"},{"path":"https://michielvandijk.github.io/ssid/reference/reweigh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — reweigh","text":"absolute_diff","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/ssid-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ssid: Spatial Simulation of Income Dynamics model — ssid-package","title":"ssid: Spatial Simulation of Income Dynamics model — ssid-package","text":"package contains functions run dynamic spatial microsimulation model provides income poverty projections subnational scale. uses spatial microsimulation approach, derive indicators fine spatial resolution (e.g. districts municipalities) combining socio-economic data household survey (referred 'seed'), aggregated information population characteristics (referred 'benchmark') available small geographical areas population census sources. algorithm used reweigh seed match benchmark information derive representative small area statistics, case income poverty indicators. dynamic spatial microsimulation approaches, benchmark projected forward new weights computed future periods obtain trends income distribution different scenarios.","code":""},{"path":[]},{"path":"https://michielvandijk.github.io/ssid/reference/ssid-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ssid: Spatial Simulation of Income Dynamics model — ssid-package","text":"Maintainer: Michiel Van Dijk michiel.vandijk@wur.nl (ORCID)","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/ssid_par.html","id":null,"dir":"Reference","previous_headings":"","what":"Sets ssid parameters — ssid_par","title":"Sets ssid parameters — ssid_par","text":"ssid_par sets required parameters run ssid, including core model folders, country code year.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/ssid_par.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sets ssid parameters — ssid_par","text":"","code":"ssid_par(   model_path = NULL,   db_path = NULL,   iso3c = NULL,   adm_level = NULL,   base_year = NULL,   start_year = NULL,   end_year = NULL )"},{"path":"https://michielvandijk.github.io/ssid/reference/ssid_par.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sets ssid parameters — ssid_par","text":"model_path character. Folder model files stored. Note R uses forward slash double backslash separate folder names. db_path character. Folder input database stored. iso3c character. Three letter ISO 3166-1 alpha-3 country code, also referred iso3c. list country codes can found Wikipedia. adm_level numeric. Administrative unit level model run. needs correspond information shapefile administrative units, needed input. base_year numeric. Base year model, normally year household survey. start_year numeric. Start year simulation period. end_year numeric. End year simulation period.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/ssid_par.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sets ssid parameters — ssid_par","text":"ssid_par object","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/ssid_par.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sets ssid parameters — ssid_par","text":"ssid_par creates object class ssid_par, bundles required ssid parameters set user: model database folder, three digit country code, country name continent. coordinate reference system automatically set WGS84 (epsg:4326). countrycode::countrycode() used determine full country name, three digit country code continent basis alpha-3 country code. information required extract country specific information several datasets.","code":""},{"path":"https://michielvandijk.github.io/ssid/reference/ssid_par.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sets ssid parameters — ssid_par","text":"","code":"if (FALSE) { ssid_par(model_path = \"C:/temp/ssid_eth\", db_path = \"C:/temp/ssid_db\", iso3c = \"ETH\", adm_level = 2, base_year = 2018, start_year = 2018, end_year = 2050) }"},{"path":"https://michielvandijk.github.io/ssid/news/index.html","id":"ssid-0009000","dir":"Changelog","previous_headings":"","what":"ssid 0.0.0.9000","title":"ssid 0.0.0.9000","text":"Added NEWS.md file track changes package.","code":""}]
